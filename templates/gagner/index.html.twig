{% extends 'base.html.twig' %}

{% block title %}Gagner index{% endblock %}

{% block body %}
    <h1>Gagner index</h1>
    {% if app.user %}
    <table class="table">
        <thead>
            <tr>
                <th>Idp</th>
                <th>Idf</th>
                <th>Idprix</th>
                <th>Annee_prix</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for gagner in gagners %}
            <tr>
                <td>{{ gagner.idp }}</td>
                <td>{{ gagner.idf }}</td>
                <td>{{ gagner.idprix }}</td>
                <td>{{ gagner.anneePrix }}</td>
                <td>
                    <a href="{{ path('gagner_show', {
                        'idp':  (gagner.idp.id),
                        'idf': (gagner.idf.id),
                        'idprix': (gagner.idprix.id)
                    }) }}">show</a>
                    {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('gagner_edit', {
                        'idp':  (gagner.idp.id),
                        'idf': (gagner.idf.id),
                        'idprix': (gagner.idprix.id)
                    }) }}">edit</a>
                    {% endif %}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('gagner_new') }}">Create new</a>
    {% else %}  
        <p> Connectez-vous pour avoir acc√®s aux tables.
    {% endif %}
{% endblock %}
